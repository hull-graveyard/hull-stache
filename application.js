Hull.init({appId:"514b2fde8710e3297b000002",orgUrl:"http://hull-demos.alpha.hullapp.io",debug:!0}),this.Hull=this.Hull||{},this.Hull.templates=this.Hull.templates||{},this.Hull.templates["hullstache/loggedIn"]=function(e,t,n,l,a){function i(){return'\n    <a href="#" class=\'hull-btn\' data-hull-action="sendByMail">Send me the mail again</a>\n  '}function s(){return"\n    <h3>Sad panda, you have no picture in your profile</h3>\n  "}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,a=a||{};var o,h="",r=this;return h+="<div>\n  ",o=n["if"].call(t,t.picture,{hash:{},inverse:r.program(3,s,a),fn:r.program(1,i,a),data:a}),(o||0===o)&&(h+=o),h+="\n</div>\n"},this.Hull.templates["hullstache/notLogged"]=function(e,t,n,l,a){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,a=a||{},"\n"},this.Hull.templates["identity/identity"]=function(e,t,n,l,a){function i(e){var t,n="";return n+='\n  <div class="hull-media hull-identity">\n    <h3>'+d((t=e.me,t=null==t||t===!1?t:t.name,typeof t===p?t.apply(e):t))+',<br/>you\'ve been hullstached.</h3>\n    <div data-hull-widget="hullstache"></div>\n    <div class="hull-stache__description secondary">\n      <p>\n        <a data-hull-action="logout" class="logout">Now logout</a>\n      </p>\n  </div>\n'}function s(e,t){var l,a,i="";return i+="\n  ",a={hash:{},inverse:f.noop,fn:f.program(4,o,t),data:t},(l=n.authServices)?l=l.call(e,a):(l=e.authServices,l=typeof l===p?l.apply(e):l),n.authServices||(l=m.call(e,l,a)),(l||0===l)&&(i+=l),i+="\n\n  ",a={hash:{},inverse:f.program(6,h,t),fn:f.noop,data:t},(l=n.authServices)?l=l.call(e,a):(l=e.authServices,l=typeof l===p?l.apply(e):l),n.authServices||(l=m.call(e,l,a)),(l||0===l)&&(i+=l),i+="\n"}function o(e,t){var l,a,i="";return i+='\n    <div class="hull-stache__description">\n      <h3>Dude, y u no click this button ?</h3>\n      \n    </div>\n    <button class="hull-btn" data-hull-action="login" data-hull-provider="'+d(typeof e===p?e.apply(e):e)+'" >hullstache me with ',a={hash:{},data:t},i+=d((l=n.classify,l?l.call(e,e,a):g.call(e,"classify",e,a)))+'</button>\n    <div class="hull-stache__description secondary">\n      <p>This app is open source, it\'s a demo of hull\'s webhooks\n        <br/>\n        <a href="http://github.com/hull/hullstache">Check out how it\'s done.</a>\n      </p>\n    </div>\n  '}function h(e,t){var l,a="";return a+="\n  ",l=n["if"].call(e,e.debug,{hash:{},inverse:f.noop,fn:f.program(7,r,t),data:t}),(l||0===l)&&(a+=l),a+="\n  "}function r(){return"\n    No Auth Services configured, please add at least one in the admin.\n  "}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,a=a||{};var u,c="",p="function",d=this.escapeExpression,g=n.helperMissing,f=this,m=n.blockHelperMissing;return u=n["if"].call(t,t.loggedIn,{hash:{},inverse:f.program(3,s,a),fn:f.program(1,i,a),data:a}),(u||0===u)&&(c+=u),c+="\n"},Hull.widget("hullstache",{templates:["loggedIn","notLogged"],refreshEvents:["model.hull.me.change"],initialize:function(){"use strict";this.sendImage()},beforeRender:function(e){"use strict";this.template=this.loggedIn("facebook")?"loggedIn":"notLogged",e.picture=this.getPicture()},actions:{sendByMail:function(e,t){"use strict";t.preventDefault(),this.sendImage()}},getPicture:function(){"use strict";return this.loggedIn("facebook")?this.loggedIn("facebook").facebook.picture:null},sendImage:function(){"use strict";this.api.post("me/images",{name:"hull-stache",source_url:"http://mustachify.me/?src="+encodeURIComponent(this.getPicture().replace("type=square","type=large"))}).then(function(){window.alert("Check your inbox!")})}});